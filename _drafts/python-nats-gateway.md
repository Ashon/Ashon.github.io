---
layout: post
title: "[WIP] Python과 Nats를 이용한 메시지 기반의 간단한 API Gateway"
date: "2019-12-02"
excerpt: |
  CNCF에서 관리되고 있는 메시징 프로젝트인 Nats를 이용해 마이크로 서비스를 구축한 경험을
  공유한다.
comments: true
category: blog
toc: true
tags:
- Python
- Nats
- Messaging
---

예전에 다른 개발자 분들과 함께 `CNCF`에서 인큐베이팅 되고 있는 오픈소스 프로젝트들에 대해
스터디를 한 적이 있었는데, 그 중에 Cloud-native messaging이라는 컨셉을 가지고 나온
**[Nats](https://nats.io/)** 라는 프로젝트가 있었다.

스터디 중에 `Nats` 프로젝트에 대해 조사하고, 발표를 할 기회가 생겨 간단한 내용을 준비해서 발표를
하고, 조사하면서 테스트 해 본 결과물을 공유하는 시간을 가지게 되었다.

당시 발표를 하면서는 `Nats`에 대해 다소 부정적인 시각을 가지고 있었는데, 그 이유는 내가 잘 알지
못해서였고 스터디 멤버들과 공유 하면서도 ~~(어디다 써먹지... 라는)~~ 여러 궁금증만 남긴채 발표를
마무리 하게 되었다.

### Nats

`Nats`는 분산 컴퓨팅을 위한 `Messaging` 시스템이다. `CNCF`에서 관리하고 있고, 소개 자료를
보면 매우 뛰어난 성능을 보여준다고 한다.

서버간 메시지를 주고받는데 용이하고, 동작하는데 적은 리소스를 요구하여 `IoT` 환경이나 `Edge`
컴퓨팅에서 사용될 수 있다.

### 마이크로 서비스 환경에서의 Nats

요즘에 `컨테이너`, `마이크로서비스` 등의 키워드가 소프트웨어 개발에서 주류를 이루고 있는데,
모놀리틱 서비스에서 마이크로서비스 환경으로 많이 전환하는 추세이지만, 마이크로 서비스들 간 통신은
여전히 `HTTP` 기반으로 이루어 지고 있다.

`HTTP`는 현재 대표적인 웹 통신 프로토콜로 여전히 잘 사용되고 있다. 많은 `API`들이 내부 통신을 위해
`HTTP`를 사용 중이다. 하지만, 프로토콜의 성격 상
